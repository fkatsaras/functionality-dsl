// ----------- Server (config) -----------
Server DemoAPI
  host: "localhost"
  port: 8080
  cors: "http://localhost:3000"
end

// ----------- Sources (REST for demo + secured WS) -----------
RESTEndpoint Posts
  url: "https://jsonplaceholder.typicode.com/posts"
  verb: GET
end

WSEndpoint DeepgramListen
  url: "wss://api.deepgram.com/v1/listen?encoding=linear16&sample_rate=16000&channels=1"
  protocol: "json"
  headers: [
    Authorization: "Token 21170afb4d31f7fc8d33fa2a5e89f398920c03df"
  ]
end

// ----------- Entities (data) -----------
Entity Post
  source: Posts
  attributes:
    - userId: int
    - id: int
    - title: string
    - body: string
end

Entity DeepgramResult
  source: DeepgramListen
  attributes:
    - transcript: string
    - confidence: float
    - is_final: bool
end

// ----------- Components (UI) -----------
Component<LiveTable> PostsTable
  entity: Post
  props:
    - primaryKey: "id"
    - columns: data.id, data.title, data.body
end
