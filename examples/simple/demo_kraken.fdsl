// ----------- Server (config) -----------
Server KrakenAPI
  host: "localhost"
  port: 8080
  cors: "http://localhost:3000"
end

// ----------- Public WebSocket (no auth) -----------
WSEndpoint KrakenBTCUSD
  url: "wss://ws.kraken.com"
  protocol: "json"
end

// ----------- Entities (data) -----------

// Example entity bound to Kraken stream (latest trade payloads)
Entity KrakenTrade
  source: KrakenBTCUSD
  // expected mapped payload for each trade: { price: float, volume: float, time: string|datetime, side: "b"|"s", order_type: "m"|"l" }
  attributes:
    - price: float
    - volume: float
    - time: datetime
    - side: string
    - order_type: string
end

// ----------- Components (UI) -----------

Component<LineChart> KrakenBTCUSD
  entity: KrakenTrade
  x: data.time
  y: [data.price]
  xLabel: "Time"
  yLabel: "BTC/USD"
end