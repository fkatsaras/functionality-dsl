// ----------- Minimal header -----------
Server TestAPI
  host: "localhost"
  port: 8080
  cors: "http://localhost:3000"
end

RESTEndpoint Soil1
  url: "http://localhost:8080/api/soil/z1"
  method: GET
end

RESTEndpoint Soil2
  url: "http://localhost:8080/api/soil/z2"
  method: GET
end

Entity MoistureZone1
  source: Soil1
  attributes:
    - timestamp: datetime
    - moisture_percent: number
end

Entity MoistureZone2
  source: Soil2
  attributes:
    - timestamp: datetime
    - moisture_percent: number
end

// Entity --------------------------------
Entity E7
  inputs:
    - z1: MoistureZone1
    - z2: MoistureZone2
  attributes:
    - a = avg([z1.moisture_percent])
    - b = min(1, 2, 3)
    - c = max(z1.moisture_percent, z2.moisture_percent, 50)
    - d = len([1,2,3])
end