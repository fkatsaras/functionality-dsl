{# templates/frontend/+page.svelte.jinja #}
{% import 'component_macros.jinja' as macros with context %}

{% set uniq = namespace(kinds=[]) %}
{% for cmp in components %}
  {% set k = cmp.kind %}
  {% if k not in uniq.kinds %}
    {% set uniq.kinds = uniq.kinds + [k] %}
  {% endif %}
{% endfor %}

<script lang="ts">
  {%- for k in uniq.kinds %}
  import {{ k }} from "$lib/components/{{ k }}.svelte";
  {%- endfor %}
</script>

<div class="space-y-6">
  {% for cmp in components %}
    {{ macros.render_component(cmp) }}
  {% endfor %}
</div>
