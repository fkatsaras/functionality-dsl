# app/services/{{ entity.name | lower }}_service.py
from typing import List
from app.domain.models import {{ entity.name }}
from app.infra.repositories.{{ entity.name | lower }}_adapter import {{ entity.name }}Adapter

class {{ entity.name }}Service:
    def __init__(self, adapter: {{ entity.name }}Adapter | None = None):
        self.adapter = adapter or {{ entity.name }}Adapter()

    async def list(self) -> List[{{ entity.name }}]:
        raw = await self.adapter.list()
        return [{{ entity.name }}(**item) for item in raw]
