// FDSL Model
digraph {
	fontname=Arial fontsize=10 rankdir=LR
	server_UserManagement [label="[SERVER]\nUserManagement\nhost=localhost\nport=8081" fillcolor="#bbdefb" shape=box style=filled]
	entity_UserSchema [label="[ENTITY]\nUserSchema\nid: integer\nusername: string\npassword: string\nemail: string<email>" fillcolor="#c8e6c9" shape=record style=filled]
	entity_UsersListWrapper [label="[ENTITY]\nUsersListWrapper\nusers: array<UserSchema>" fillcolor="#c8e6c9" shape=record style=filled]
	entity_DeleteResponseSchema [label="[ENTITY]\nDeleteResponseSchema\nok: boolean\nmessage: string" fillcolor="#c8e6c9" shape=record style=filled]
	entity_RegisterRequest [label="[ENTITY]\nRegisterRequest\nusername: string(3..50.0)\npassword: string(6..)\nemail: string<email>" fillcolor="#c8e6c9" shape=record style=filled]
	entity_LoginRequest [label="[ENTITY]\nLoginRequest\nusername: string(3..)\npassword: string(6..)" fillcolor="#c8e6c9" shape=record style=filled]
	entity_UpdatePasswordRequest [label="[ENTITY]\nUpdatePasswordRequest\nemail: string<email>\nnewPassword: string(6..)" fillcolor="#c8e6c9" shape=record style=filled]
	entity_UpdateUserRequest [label="[ENTITY]\nUpdateUserRequest\nemail: string<email>?\npassword: string(6..)?" fillcolor="#c8e6c9" shape=record style=filled]
	entity_LoginMatch [label="[ENTITY]\nLoginMatch\nuser: object? = dsl_funcs['find'](UsersListWrapper.get('...\ntoken: string = dsl_funcs['sha256'](dsl_funcs['get'](Log..." fillcolor="#c8e6c9" shape=record style=filled]
	entity_LoginRequest -> entity_LoginMatch [label=extends]
	entity_UsersListWrapper -> entity_LoginMatch [label=extends]
	entity_PasswordUpdateData [label="[ENTITY]\nPasswordUpdateData\nuser: object? = dsl_funcs['find'](UsersListWrapper.get('...\nuserId: integer = dsl_funcs['get'](PasswordUpdateData.get(...\nemail: string<email> = UpdatePasswordRequest.get('email')\npassword: string = UpdatePasswordRequest.get('newPassword')" fillcolor="#c8e6c9" shape=record style=filled]
	entity_UpdatePasswordRequest -> entity_PasswordUpdateData [label=extends]
	entity_UsersListWrapper -> entity_PasswordUpdateData [label=extends]
	entity_LoginResponse [label="[ENTITY]\nLoginResponse\ntoken: string = LoginMatch.get('token')\nusername: string = dsl_funcs['get'](LoginMatch.get('user'),..." fillcolor="#c8e6c9" shape=record style=filled]
	entity_LoginMatch -> entity_LoginResponse [label=extends]
	entity_RegisterResponse [label="[ENTITY]\nRegisterResponse\nid: integer = UserSchema.get('id')\nusername: string = UserSchema.get('username')\nmessage: string = 'User registered successfully'" fillcolor="#c8e6c9" shape=record style=filled]
	entity_UserSchema -> entity_RegisterResponse [label=extends]
	entity_UpdateResponse [label="[ENTITY]\nUpdateResponse\nsuccess: boolean = 'true'\nmessage: string = 'User updated successfully'" fillcolor="#c8e6c9" shape=record style=filled]
	entity_UserSchema -> entity_UpdateResponse [label=extends]
	entity_DeleteResponse [label="[ENTITY]\nDeleteResponse\nsuccess: boolean = DeleteResponseSchema.get('ok')\nmessage: string = DeleteResponseSchema.get('message')" fillcolor="#c8e6c9" shape=record style=filled]
	entity_DeleteResponseSchema -> entity_DeleteResponse [label=extends]
	rest_ListUsers [label="[REST]\nListUsers\nGET /api/users" fillcolor="#ffe0b2" shape=box style=filled]
	rest_ListUsers -> entity_UsersListWrapper [label=response color="#ff6f00"]
	rest_Register [label="[REST]\nRegister\nPOST /api/auth/register" fillcolor="#ffe0b2" shape=box style=filled]
	rest_Register -> entity_RegisterResponse [label=response color="#ff6f00"]
	entity_RegisterRequest -> rest_Register [label=request color="#1976d2"]
	rest_Login [label="[REST]\nLogin\nPOST /api/auth/login" fillcolor="#ffe0b2" shape=box style=filled]
	rest_Login -> entity_LoginResponse [label=response color="#ff6f00"]
	entity_LoginRequest -> rest_Login [label=request color="#1976d2"]
	rest_UpdatePassword [label="[REST]\nUpdatePassword\nPUT /api/users/password" fillcolor="#ffe0b2" shape=box style=filled]
	rest_UpdatePassword -> entity_UpdateResponse [label=response color="#ff6f00"]
	entity_UpdatePasswordRequest -> rest_UpdatePassword [label=request color="#1976d2"]
	rest_UpdateUserById [label="[REST]\nUpdateUserById\nPATCH /api/users/\{userId\}" fillcolor="#ffe0b2" shape=box style=filled]
	rest_UpdateUserById -> entity_UpdateResponse [label=response color="#ff6f00"]
	entity_UpdateUserRequest -> rest_UpdateUserById [label=request color="#1976d2"]
	rest_UserDeleteEndpoint [label="[REST]\nUserDeleteEndpoint\nDELETE /api/users/\{userId\}" fillcolor="#ffe0b2" shape=box style=filled]
	rest_UserDeleteEndpoint -> entity_DeleteResponseSchema [label=response color="#ff6f00"]
	comp_UsersTable [label="[COMPONENT]\nUsersTable" fillcolor="#f8bbd0" shape=ellipse style=filled]
	comp_UsersTable -> rest_ListUsers [label=endpoint]
	comp_RegisterForm [label="[COMPONENT]\nRegisterForm" fillcolor="#f8bbd0" shape=ellipse style=filled]
	comp_RegisterForm -> rest_Register [label=endpoint]
	comp_LoginForm [label="[COMPONENT]\nLoginForm" fillcolor="#f8bbd0" shape=ellipse style=filled]
	comp_LoginForm -> rest_Login [label=endpoint]
	comp_UpdatePasswordForm [label="[COMPONENT]\nUpdatePasswordForm" fillcolor="#f8bbd0" shape=ellipse style=filled]
	comp_UpdatePasswordForm -> rest_UpdatePassword [label=endpoint]
	comp_UpdateUserForm [label="[COMPONENT]\nUpdateUserForm" fillcolor="#f8bbd0" shape=ellipse style=filled]
	comp_UpdateUserForm -> rest_UpdateUserById [label=endpoint]
	comp_DeleteUserForm [label="[COMPONENT]\nDeleteUserForm" fillcolor="#f8bbd0" shape=ellipse style=filled]
	comp_DeleteUserForm -> rest_UserDeleteEndpoint [label=endpoint]
	extrest_ReadUsers [label="[SOURCE REST]\nReadUsers\nhttp://dummydb:9000/db/users" fillcolor="#d1c4e9" shape=note style=filled]
	extrest_ReadUsers -> entity_UsersListWrapper [label=provides color="#7b1fa2" style=dashed]
	extrest_CreateUser [label="[SOURCE REST]\nCreateUser\nhttp://dummydb:9000/db/users" fillcolor="#d1c4e9" shape=note style=filled]
	extrest_CreateUser -> entity_UserSchema [label=provides color="#7b1fa2" style=dashed]
	entity_RegisterRequest -> extrest_CreateUser [label=sends color="#7b1fa2" style=dashed]
	extrest_UpdateUser [label="[SOURCE REST]\nUpdateUser\nhttp://dummydb:9000/db/users/\{userId\}" fillcolor="#d1c4e9" shape=note style=filled]
	extrest_UpdateUser -> entity_UserSchema [label=provides color="#7b1fa2" style=dashed]
	entity_UpdateUserRequest -> extrest_UpdateUser [label=sends color="#7b1fa2" style=dashed]
	extrest_UpdateUserPassword [label="[SOURCE REST]\nUpdateUserPassword\nhttp://dummydb:9000/db/users/\{userId\}" fillcolor="#d1c4e9" shape=note style=filled]
	extrest_UpdateUserPassword -> entity_UserSchema [label=provides color="#7b1fa2" style=dashed]
	entity_UpdatePasswordRequest -> extrest_UpdateUserPassword [label=sends color="#7b1fa2" style=dashed]
	extrest_DeleteUser [label="[SOURCE REST]\nDeleteUser\nhttp://dummydb:9000/db/users/\{userId\}" fillcolor="#d1c4e9" shape=note style=filled]
	extrest_DeleteUser -> entity_DeleteResponseSchema [label=provides color="#7b1fa2" style=dashed]
}
