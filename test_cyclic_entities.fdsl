// Test: Cyclic Entity Relationships
// This should FAIL validation with forward reference errors

Server TestServer
  host: "localhost"
  port: 8080
end

// Cyclic dependency: EntityA references EntityB, EntityB references EntityA
Entity EntityA
  attributes:
    - id: string;
end

Entity EntityB(EntityA, EntityC)
  attributes:
    - valueFromA: string = EntityA.id;
    - valueFromC: string = EntityC.name;  // Forward reference to EntityC
end

Entity EntityC(EntityB)
  attributes:
    - name: string = EntityB.valueFromA;  // References EntityB (creates cycle)
end

// Source
Source<REST> DataSource
  url: "http://api.example.com/data"
  method: GET
  response:
    type: object
    entity: EntityA
end

// Endpoint
Endpoint<REST> GetData
  path: "/data"
  method: GET
  response:
    type: object
    entity: EntityC
end
